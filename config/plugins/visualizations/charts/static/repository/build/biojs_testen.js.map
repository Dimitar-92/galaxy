{"version":3,"sources":["webpack:///biojs_testen.js","webpack:///webpack/bootstrap 1a4c4a606bb91e601193?229b","webpack:///./config/plugins/visualizations/charts/static/repository/visualizations/biojs/testen/wrapper.js","webpack:///./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.api/index.js","webpack:///./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.api/src/api.js","webpack:///./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.tooltip/index.js","webpack:///./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.tooltip/src/tooltip.js","webpack:///./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/visualize_piechart/src/vis.js"],"names":["define","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","Vis","Backbone","Model","extend","initialize","options","chart","dataset","settings","console","log","data","direction","object","type","value","subject","v","read","document","getElementById","targets","state","process","resolve","apply","undefined","api","who","_methods","add_batch","obj","unshift","update","method","i","length","add","reg","get","methods","check","msg","Array","transform","cbak","attach_method","opts","checks","transforms","getter","on_getter","setter","on_setter","x","j","new_method","new_val","arguments","push","this","getset","param","default_value","def","set","name","tooltip","apijs","selectAncestor","elem","toLowerCase","parentNode","tagName","tooltip_div","drag","d3","behavior","conf","position","allow_drag","show_closer","fill","width","t","event","origin","parseInt","select","style","y","on","containerElem","append","attr","classed","remove","d3mouse","mouse","xoffset","close","node","val","list","obj_info_list","header","text","table_rows","selectAll","rows","enter","html","d","each","link","table","obj_info_table","label","plain","body","tntTooltip","cssId","head","getElementsByTagName","createElement","rel","href","media","appendChild","vis","updateScales","radius","selected","circleScales","scale","linear","domain","range","clamp","newScales","currRad","String","slice","links","l","checkLink","labels","checkLabel","points","checkNode","unselect","point","r","Math","cos","sin","graph","dataTypes","config","allColorsExp","fontSize","pointSize","pointColor","size","filter","labelSize","transitionSpeed","render","div","graphSize","svg","circleColorScale","rgb","b","w","h","s","graphicMode","vizType","createComparator","property","a","shadeColor2","color","percent","f","R","G","B","round","toString","circleColorScaleExp","updateBreadcrumbs","nodeArray","breadcrumbPoints","join","renderInitialState","rings","transition","duration","setTimeout","path","pie","attrTween","interpolate","_current","arc","g","depth","entering","childNodes","innerHTML","substring","drawData","displData","currAngle","coords","angle","PI","grades","sort","types","population","count","colorsExpr","category20","arcs","outerRadius","innerRadius","layout","tempDataTypes","JSON","parse","stringify","selDataType","startAngle","endAngle","delay","selection","prototype","moveToFront","json","error","resp","setPieColors","setFontSize","setPointSize","setPointColor","filter_type"],"mappings":"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","file":"biojs_testen.js","sourcesContent":["define(function() { return /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(13) ], __WEBPACK_AMD_DEFINE_RESULT__ = function(Vis) {\n\t    return Backbone.Model.extend({\n\t        initialize: function( options ) {\n\t            var chart    = options.chart;\n\t            var dataset  = options.dataset;\n\t            var settings = options.chart.settings;\n\t            console.log(Vis);\n\t            data= [\n\t\n\t                    {\n\t                        \"direction\": null,\n\t                        \"object\": \"disease1\",\n\t                        \"type\": \"diseases1\",\n\t                        \"value\": 0.7139138126389065,\n\t                        \"subject\": \"EFO_0004591\"\n\t                    },{\n\t                        \"direction\": null,\n\t                        \"object\": \"disease1\",\n\t                        \"type\": \"diseases3\",\n\t                        \"value\": 0.7139138126389065,\n\t                        \"subject\": \"EFO_0004591\"\n\t                    }\n\t                ]\n\t\n\t            var v = Vis()\n\t                // .size(500)//250-1000\n\t                // .size(2000)\n\t                // .size(250)\n\t                // .size(450)\n\t                // .setPointSize(5)\n\t                // .setPieColors([\"#ff0000\"])\n\t                // .setPointColor('#fff')\n\t                // .setPointColor('rgb(200,132,200)')\n\t                // .setFontSize('10px')\n\t                .read(\"http://partizanos.github.io/VizTargetDiseases/data/sample.json\");\n\t                // .read(data);\n\t            \n\t            v(document.getElementById(options.targets[ 0 ] + \"\"));\n\t            chart.state( 'ok', 'Chart drawn.' );\n\t            options.process.resolve();\n\t\n\t            // d3.select(\"#changeType\")\n\t            //     .on(\"change\", function () {\n\t            //         console.log(this.value);\n\t            //         v.filter_type(this.value);\n\t            //     })\n\t\n\t            // setTimeout(function () {\n\t            //     v.filter_type(\"shared-phenotype\");\n\t            // }, 1000);\n\t            //\n\t            // setTimeout(function () {\n\t            //     v.filter_type(null);\n\t            // }, 2000);\n\t\n\t        }\n\t    });\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(10);\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tvar api = function (who) {\n\t\n\t    var _methods = function () {\n\t\tvar m = [];\n\t\n\t\tm.add_batch = function (obj) {\n\t\t    m.unshift(obj);\n\t\t};\n\t\n\t\tm.update = function (method, value) {\n\t\t    for (var i=0; i<m.length; i++) {\n\t\t\tfor (var p in m[i]) {\n\t\t\t    if (p === method) {\n\t\t\t\tm[i][p] = value;\n\t\t\t\treturn true;\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t    return false;\n\t\t};\n\t\n\t\tm.add = function (method, value) {\n\t\t    if (m.update (method, value) ) {\n\t\t    } else {\n\t\t\tvar reg = {};\n\t\t\treg[method] = value;\n\t\t\tm.add_batch (reg);\n\t\t    }\n\t\t};\n\t\n\t\tm.get = function (method) {\n\t\t    for (var i=0; i<m.length; i++) {\n\t\t\tfor (var p in m[i]) {\n\t\t\t    if (p === method) {\n\t\t\t\treturn m[i][p];\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t};\n\t\n\t\treturn m;\n\t    };\n\t\n\t    var methods    = _methods();\n\t    var api = function () {};\n\t\n\t    api.check = function (method, check, msg) {\n\t\tif (method instanceof Array) {\n\t\t    for (var i=0; i<method.length; i++) {\n\t\t\tapi.check(method[i], check, msg);\n\t\t    }\n\t\t    return;\n\t\t}\n\t\n\t\tif (typeof (method) === 'function') {\n\t\t    method.check(check, msg);\n\t\t} else {\n\t\t    who[method].check(check, msg);\n\t\t}\n\t\treturn api;\n\t    };\n\t\n\t    api.transform = function (method, cbak) {\n\t\tif (method instanceof Array) {\n\t\t    for (var i=0; i<method.length; i++) {\n\t\t\tapi.transform (method[i], cbak);\n\t\t    }\n\t\t    return;\n\t\t}\n\t\n\t\tif (typeof (method) === 'function') {\n\t\t    method.transform (cbak);\n\t\t} else {\n\t\t    who[method].transform(cbak);\n\t\t}\n\t\treturn api;\n\t    };\n\t\n\t    var attach_method = function (method, opts) {\n\t\tvar checks = [];\n\t\tvar transforms = [];\n\t\n\t\tvar getter = opts.on_getter || function () {\n\t\t    return methods.get(method);\n\t\t};\n\t\n\t\tvar setter = opts.on_setter || function (x) {\n\t\t    for (var i=0; i<transforms.length; i++) {\n\t\t\tx = transforms[i](x);\n\t\t    }\n\t\n\t\t    for (var j=0; j<checks.length; j++) {\n\t\t\tif (!checks[j].check(x)) {\n\t\t\t    var msg = checks[j].msg || \n\t\t\t\t(\"Value \" + x + \" doesn't seem to be valid for this method\");\n\t\t\t    throw (msg);\n\t\t\t}\n\t\t    }\n\t\t    methods.add(method, x);\n\t\t};\n\t\n\t\tvar new_method = function (new_val) {\n\t\t    if (!arguments.length) {\n\t\t\treturn getter();\n\t\t    }\n\t\t    setter(new_val);\n\t\t    return who; // Return this?\n\t\t};\n\t\tnew_method.check = function (cbak, msg) {\n\t\t    if (!arguments.length) {\n\t\t\treturn checks;\n\t\t    }\n\t\t    checks.push ({check : cbak,\n\t\t\t\t  msg   : msg});\n\t\t    return this;\n\t\t};\n\t\tnew_method.transform = function (cbak) {\n\t\t    if (!arguments.length) {\n\t\t\treturn transforms;\n\t\t    }\n\t\t    transforms.push(cbak);\n\t\t    return this;\n\t\t};\n\t\n\t\twho[method] = new_method;\n\t    };\n\t\n\t    var getset = function (param, opts) {\n\t\tif (typeof (param) === 'object') {\n\t\t    methods.add_batch (param);\n\t\t    for (var p in param) {\n\t\t\tattach_method (p, opts);\n\t\t    }\n\t\t} else {\n\t\t    methods.add (param, opts.default_value);\n\t\t    attach_method (param, opts);\n\t\t}\n\t    };\n\t\n\t    api.getset = function (param, def) {\n\t\tgetset(param, {default_value : def});\n\t\n\t\treturn api;\n\t    };\n\t\n\t    api.get = function (param, def) {\n\t\tvar on_setter = function () {\n\t\t    throw (\"Method defined only as a getter (you are trying to use it as a setter\");\n\t\t};\n\t\n\t\tgetset(param, {default_value : def,\n\t\t\t       on_setter : on_setter}\n\t\t      );\n\t\n\t\treturn api;\n\t    };\n\t\n\t    api.set = function (param, def) {\n\t\tvar on_getter = function () {\n\t\t    throw (\"Method defined only as a setter (you are trying to use it as a getter\");\n\t\t};\n\t\n\t\tgetset(param, {default_value : def,\n\t\t\t       on_getter : on_getter}\n\t\t      );\n\t\n\t\treturn api;\n\t    };\n\t\n\t    api.method = function (name, cbak) {\n\t\tif (typeof (name) === 'object') {\n\t\t    for (var p in name) {\n\t\t\twho[p] = name[p];\n\t\t    }\n\t\t} else {\n\t\t    who[name] = cbak;\n\t\t}\n\t\treturn api;\n\t    };\n\t\n\t    return api;\n\t    \n\t};\n\t\n\tmodule.exports = exports = api;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = tooltip = __webpack_require__(12);\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar apijs = __webpack_require__(9);\n\t\n\tvar tooltip = function () {\n\t    \"use strict\";\n\t\n\t    var drag = d3.behavior.drag();\n\t    var tooltip_div;\n\t\n\t    var conf = {\n\t        position : \"right\",\n\t        allow_drag : true,\n\t        show_closer : true,\n\t        fill : function () { throw \"fill is not defined in the base object\"; },\n\t        width : 180,\n\t        id : 1\n\t    };\n\t\n\t    var t = function (data, event) {\n\t        drag\n\t            .origin(function(){\n\t                return {\n\t                    x : parseInt(d3.select(this).style(\"left\")),\n\t                    y : parseInt(d3.select(this).style(\"top\"))\n\t                };\n\t            })\n\t            .on(\"drag\", function() {\n\t                if (conf.allow_drag) {\n\t                    d3.select(this)\n\t                        .style(\"left\", d3.event.x + \"px\")\n\t                        .style(\"top\", d3.event.y + \"px\");\n\t                }\n\t            });\n\t\n\t        // TODO: Why do we need the div element?\n\t        // It looks like if we anchor the tooltip in the \"body\"\n\t        // The tooltip is not located in the right place (appears at the bottom)\n\t        // See clients/tooltips_test.html for an example\n\t        var containerElem = selectAncestor (this, \"div\");\n\t        if (containerElem === undefined) {\n\t            // We require a div element at some point to anchor the tooltip\n\t            return;\n\t        }\n\t\n\t        tooltip_div = d3.select(containerElem)\n\t            .append(\"div\")\n\t            .attr(\"class\", \"tnt_tooltip\")\n\t            .classed(\"tnt_tooltip_active\", true)  // TODO: Is this needed/used???\n\t            .call(drag);\n\t\n\t        // prev tooltips with the same header\n\t        d3.select(\"#tnt_tooltip_\" + conf.id).remove();\n\t\n\t        if ((d3.event === null) && (event)) {\n\t            d3.event = event;\n\t        }\n\t        var d3mouse = d3.mouse(containerElem);\n\t        d3.event = null;\n\t\n\t        var xoffset = 0;\n\t        if (conf.position === \"left\") {\n\t            xoffset = conf.width;\n\t        }\n\t\n\t        tooltip_div.attr(\"id\", \"tnt_tooltip_\" + conf.id);\n\t\n\t        // We place the tooltip\n\t        tooltip_div\n\t            .style(\"left\", (d3mouse[0] - xoffset) + \"px\")\n\t            .style(\"top\", (d3mouse[1]) + \"px\");\n\t\n\t        // Close\n\t        if (conf.show_closer) {\n\t            tooltip_div\n\t                .append(\"div\")\n\t                .attr(\"class\", \"tnt_tooltip_closer\")\n\t                .on (\"click\", function () {\n\t                    t.close();\n\t                });\n\t        }\n\t\n\t        conf.fill.call(tooltip_div.node(), data);\n\t\n\t        // return this here?\n\t        return t;\n\t    };\n\t\n\t    // gets the first ancestor of elem having tagname \"type\"\n\t    // example : var mydiv = selectAncestor(myelem, \"div\");\n\t    function selectAncestor (elem, type) {\n\t        type = type.toLowerCase();\n\t        if (elem.parentNode === null) {\n\t            console.log(\"No more parents\");\n\t            return undefined;\n\t        }\n\t        var tagName = elem.parentNode.tagName;\n\t\n\t        if ((tagName !== undefined) && (tagName.toLowerCase() === type)) {\n\t            return elem.parentNode;\n\t        } else {\n\t            return selectAncestor (elem.parentNode, type);\n\t        }\n\t    }\n\t\n\t    var api = apijs(t)\n\t        .getset(conf);\n\t\n\t    api.check('position', function (val) {\n\t        return (val === 'left') || (val === 'right');\n\t    }, \"Only 'left' or 'right' values are allowed for position\");\n\t\n\t    api.method('close', function () {\n\t        if (tooltip_div) {\n\t            tooltip_div.remove();\n\t        }\n\t    });\n\t\n\t    return t;\n\t};\n\t\n\ttooltip.list = function () {\n\t    // list tooltip is based on general tooltips\n\t    var t = tooltip();\n\t    var width = 180;\n\t\n\t    t.fill (function (obj) {\n\t        var tooltip_div = d3.select(this);\n\t        var obj_info_list = tooltip_div\n\t            .append(\"table\")\n\t            .attr(\"class\", \"tnt_zmenu\")\n\t            .attr(\"border\", \"solid\")\n\t            .style(\"width\", t.width() + \"px\");\n\t\n\t        // Tooltip header\n\t        if (obj.header) {\n\t            obj_info_list\n\t                .append(\"tr\")\n\t                .attr(\"class\", \"tnt_zmenu_header\")\n\t                .append(\"th\")\n\t                .text(obj.header);\n\t        }\n\t\n\t        // Tooltip rows\n\t        var table_rows = obj_info_list.selectAll(\".tnt_zmenu_row\")\n\t            .data(obj.rows)\n\t            .enter()\n\t            .append(\"tr\")\n\t            .attr(\"class\", \"tnt_zmenu_row\");\n\t\n\t        table_rows\n\t            .append(\"td\")\n\t            .style(\"text-align\", \"center\")\n\t            .html(function(d,i) {\n\t                return obj.rows[i].value;\n\t            })\n\t            .each(function (d) {\n\t                if (d.link === undefined) {\n\t                    return;\n\t                }\n\t                d3.select(this)\n\t                    .classed(\"link\", 1)\n\t                    .on('click', function (d) {\n\t                        d.link(d.obj);\n\t                        t.close.call(this);\n\t                    });\n\t            });\n\t    });\n\t    return t;\n\t};\n\t\n\ttooltip.table = function () {\n\t    // table tooltips are based on general tooltips\n\t    var t = tooltip();\n\t\n\t    var width = 180;\n\t\n\t    t.fill (function (obj) {\n\t        var tooltip_div = d3.select(this);\n\t\n\t        var obj_info_table = tooltip_div\n\t            .append(\"table\")\n\t            .attr(\"class\", \"tnt_zmenu\")\n\t            .attr(\"border\", \"solid\")\n\t            .style(\"width\", t.width() + \"px\");\n\t\n\t        // Tooltip header\n\t        if (obj.header) {\n\t            obj_info_table\n\t                .append(\"tr\")\n\t                .attr(\"class\", \"tnt_zmenu_header\")\n\t                .append(\"th\")\n\t                .attr(\"colspan\", 2)\n\t                .text(obj.header);\n\t        }\n\t\n\t        // Tooltip rows\n\t        var table_rows = obj_info_table.selectAll(\".tnt_zmenu_row\")\n\t            .data(obj.rows)\n\t            .enter()\n\t            .append(\"tr\")\n\t            .attr(\"class\", \"tnt_zmenu_row\");\n\t\n\t        table_rows\n\t            .append(\"th\")\n\t            .attr(\"colspan\", function (d, i) {\n\t                if (d.value === \"\") {\n\t                    return 2;\n\t                }\n\t                return 1;\n\t            })\n\t            .attr(\"class\", function (d) {\n\t                if (d.value === \"\") {\n\t                    return \"tnt_zmenu_inner_header\";\n\t                }\n\t                return \"tnt_zmenu_cell\";\n\t            })\n\t            .html(function(d,i) {\n\t                return obj.rows[i].label;\n\t            });\n\t\n\t        table_rows\n\t            .append(\"td\")\n\t            .html(function(d,i) {\n\t                if (typeof obj.rows[i].value === 'function') {\n\t                    obj.rows[i].value.call(this, d);\n\t                } else {\n\t                    return obj.rows[i].value;\n\t                }\n\t            })\n\t            .each(function (d) {\n\t                if (d.value === \"\") {\n\t                    d3.select(this).remove();\n\t                }\n\t            })\n\t            .each(function (d) {\n\t                if (d.link === undefined) {\n\t                    return;\n\t                }\n\t                d3.select(this)\n\t                .classed(\"link\", 1)\n\t                .on('click', function (d) {\n\t                    d.link(d.obj);\n\t                    t.close.call(this);\n\t                });\n\t            });\n\t    });\n\t\n\t    return t;\n\t};\n\t\n\ttooltip.plain = function () {\n\t    // plain tooltips are based on general tooltips\n\t    var t = tooltip();\n\t\n\t    t.fill (function (obj) {\n\t        var tooltip_div = d3.select(this);\n\t\n\t        var obj_info_table = tooltip_div\n\t            .append(\"table\")\n\t            .attr(\"class\", \"tnt_zmenu\")\n\t            .attr(\"border\", \"solid\")\n\t            .style(\"width\", t.width() + \"px\");\n\t\n\t        if (obj.header) {\n\t            obj_info_table\n\t                .append(\"tr\")\n\t                .attr(\"class\", \"tnt_zmenu_header\")\n\t                .append(\"th\")\n\t                .text(obj.header);\n\t        }\n\t\n\t        if (obj.body) {\n\t            obj_info_table\n\t                .append(\"tr\")\n\t                .attr(\"class\", \"tnt_zmenu_row\")\n\t                .append(\"td\")\n\t                .style(\"text-align\", \"center\")\n\t                .html(obj.body);\n\t        }\n\t    });\n\t\n\t    return t;\n\t};\n\t\n\tmodule.exports = exports = tooltip;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// var cttvApi = require('cttv.api');\n\tvar tntTooltip = __webpack_require__(11);\n\t// var d3 = require('d3');\n\t// var flowerView = require(\"cttv.flowerView\");\n\t//add necessary css from js so that the user doesn have to explicitely include it\n\t//if he includes it css is not imported \n\tvar cssId = 'myCss'; \n\tif (!document.getElementById(cssId))\n\t{\n\t    var head  = document.getElementsByTagName('head')[0];\n\t    var link  = document.createElement('link');\n\t    link.id   = cssId;\n\t    link.rel  = 'stylesheet';\n\t    link.type = 'text/css';\n\t    link.href = \"../build/viz_diseases.css\";\n\t    link.media = 'all';\n\t    head.appendChild(link);\n\t}\n\t\n\t\n\t\n\tvar vis = function() {\n\t    \"use strict\";\n\t    var config = {\n\t        allColorsExp:[],\n\t        // allColorsExp:[],\n\t        fontSize:\"10px\",\n\t        pointSize:3.5,\n\t        pointColor:\"navy\",\n\t        size: 700,\n\t        filter: null,\n\t        data: [\n\t\n\t            {\n\t                \"direction\": null,\n\t                \"object\": \"disease1\",\n\t                \"type\": \"diseases1\",\n\t                \"value\": 0.7139138126389065,\n\t                \"subject\": \"EFO_0004591\"\n\t            }, {\n\t                \"direction\": null,\n\t                \"object\": \"disease1\",\n\t                \"type\": \"diseases2\",\n\t                \"value\": 0.7139138126389065,\n\t                \"subject\": \"EFO_0004591\"\n\t            }, {\n\t                \"direction\": null,\n\t                \"object\": \"disease1\",\n\t                \"type\": \"diseases3\",\n\t                \"value\": 0.7139138126389065,\n\t                \"subject\": \"EFO_0004591\"\n\t            }\n\t        ]\n\t    };\n\t    var graph;\n\t\n\t    var labelSize = 100;\n\t    var transitionSpeed = 1000;\n\t    var points, labels, links;\n\t    // var api = cttvApi()\n\t    //     .prefix(\"http://test.targetvalidation.org:8899/api/\")\n\t    //     .appname(\"cttv-web-app\")\n\t    //     .secret(\"2J23T20O31UyepRj7754pEA2osMOYfFK\");\n\t    var dataTypes;\n\t    var render = function(div) {\n\t        var graphSize = config.size - (labelSize * 2);\n\t        var radius = graphSize / 2;\n\t\n\t\n\t        d3.select(div)\n\t            .append(\"div\")\n\t            .attr(\"id\", \"sequence\")\n\t            .attr(\"width\", config.size)\n\t            .attr(\"height\", 30)\n\t\n\t        var svg = d3.select(div)\n\t            .append(\"svg\")\n\t            .attr(\"width\", config.size)\n\t            .attr(\"height\", config.size)\n\t            .append(\"g\")\n\t            .attr(\"transform\", \"translate(\" + (radius + labelSize) + \",\" + (radius + labelSize) + \")\")\n\t            .attr(\"id\", \"pieChart\")\n\t\n\t        var circleColorScale = d3.scale.linear()\n\t            .domain([0, 1])\n\t            .range([d3.rgb(0, 82, 163), d3.rgb(182, 221, 252)]);\n\t\n\t        // d3.json(\"../data/sample.json\", function(error, resp) {\n\t        //     var data = resp.data;\n\t        //     render.update(data, updateScales(radius), 'pieChart');\n\t        // });\n\t        // d3.json(\"../data/sample.json\", function(error, resp) {\n\t        //     var data = resp.data;\n\t        // });\n\t\n\t        var b = {\n\t            w: 100,\n\t            h: 30,\n\t            s: 3,\n\t            t: 10\n\t        };\n\t\n\t        render.update = function(data, circleScales, graphicMode, vizType) {\n\t\n\t            if (graphicMode == 'pieChart') {\n\t                d3.selectAll(\"#sequence svg\").remove();\n\t                d3.selectAll(\"g text\").remove();\n\t                d3.selectAll(\"line\").remove();\n\t                d3.selectAll(\"circle\").remove();\n\t                updateBreadcrumbs([{ name: 'Home' }]);\n\t\n\t                function createComparator(property) {\n\t                    return function(a, b) {\n\t                        if (a[property] > b[property]) return 1\n\t                        if (a[property] < b[property]) return -1\n\t                        return 0\n\t                    };\n\t                }\n\t\n\t                data.sort(createComparator('type'))\n\t\n\t                var types = {}\n\t                for (var i = 0; i < data.length; i++) {\n\t                    if (types[data[i].type] == undefined)\n\t                        types[data[i].type] = []\n\t                    types[data[i].type].push(data[i])\n\t                }\n\t                // portion of circle per data type\n\t                dataTypes = [];\n\t                for (i in types) {\n\t                    dataTypes.push({\n\t                        \"type\": i,\n\t                        \"population\": types[i].length / data.length,\n\t                        \"count\": types[i].length\n\t                    })\n\t                }\n\t                dataTypes.sort(function compare(a, b) {\n\t                    if (a.population > b.population) return -1;\n\t                    if (a.population < b.population) return 1;\n\t                    return 0;\n\t                })\n\t\n\t                //Create colors mapping to data Types\n\t                var colorsExpr = [];\n\t                for (i = 0; i < 10; i++) {\n\t                    colorsExpr.push([d3.scale.category20().range()[i * 2], d3.scale.category20().range()[i * 2 + 1]])\n\t                }\n\t\n\t\n\t                function shadeColor2(color, percent) {   \n\t                    var f=parseInt(color.slice(1),16),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=f>>16,G=f>>8&0x00FF,B=f&0x0000FF;\n\t                    return \"#\"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);\n\t                }\n\t                // config.allColorsExp;\n\t                var allColorsExp = {};\n\t                if(config.allColorsExp.length!=0){\n\t                    for(i=0; i<config.allColorsExp.length; i++){\n\t                        allColorsExp[dataTypes[i].type] = [\n\t                        config.allColorsExp[i],\n\t                        shadeColor2(config.allColorsExp[i], 0.8)\n\t                        // d3.scale.category20().range()[i % 10 * 2 + 1],\n\t                        // d3.scale.category20().range()[i % 10 * 2]\n\t                    ]\n\t                    }\n\t                }\n\t                for (i = config.allColorsExp.length; i < dataTypes.length; i++) {\n\t                    allColorsExp[dataTypes[i].type] = [\n\t                        d3.scale.category20().range()[i % 10 * 2],\n\t                        d3.scale.category20().range()[i % 10 * 2 + 1]\n\t                        // d3.scale.category20().range()[i % 10 * 2 + 1],\n\t                        // d3.scale.category20().range()[i % 10 * 2]\n\t                    ]\n\t                }\n\t\n\t                function circleColorScaleExp(type) {\n\t                    return d3.scale.linear()\n\t                        .domain([0, 1])\n\t                        .range(allColorsExp[type]);\n\t                }\n\t\n\t                function giveArcColor(type) {\n\t                    return d3.scale.linear()\n\t                        .domain([0, 105])\n\t                        .range([allColorsExp[type][0], allColorsExp[type][1]])\n\t                }\n\t                //create arcs equivalent of rings\n\t                var arcs = [];\n\t                for (var i = 0; i < 1; i++) {\n\t                    var arc = d3.svg.arc()\n\t                        .outerRadius(radius - (i * radius))\n\t                        .innerRadius(radius - (i * radius) - radius);\n\t\n\t                    arcs.push(arc);\n\t                }\n\t\n\t                var labelArc = d3.svg.arc()\n\t                    .outerRadius(radius - 40)\n\t                    .innerRadius(radius - 40);\n\t\n\t                var pie = d3.layout.pie()\n\t                    .sort(null)\n\t                    .value(function(d) {\n\t                        return d.population;\n\t                    });\n\t\n\t                var arc = d3.svg.arc()\n\t                    .outerRadius(radius)\n\t                    .innerRadius(0)\n\t\n\t                var path = svg\n\t                    .selectAll(\"path\")\n\t                    .data(pie(dataTypes))\n\t                    .enter().append(\"path\")\n\t                    //Give color based on datatype\n\t                    .attr(\"fill\", function(d, i) {\n\t                        return allColorsExp[d.data.type][0];\n\t                    })\n\t                    .attr(\"d\", arc)\n\t                    .each(function(d) { this._current = d; }) // store the initial values\n\t                    .on(\"click\", function(d) {\n\t                        d3.selectAll(\"#pieChart text\").style('opacity', 0);\n\t\n\t                        var tempDataTypes = JSON.parse(JSON.stringify(dataTypes));\n\t                        for (var i in tempDataTypes) {\n\t                            if (tempDataTypes[i].type == d.data.type)\n\t                                tempDataTypes[i].population = 1;\n\t                            else {\n\t                                tempDataTypes[i].population = 0;\n\t                            }\n\t                        }\n\t\n\t                        path = path.data(pie(tempDataTypes))\n\t                            .attr(\"fill\", function(d, i) {\n\t                                return allColorsExp[(d.data.type)][0];\n\t                            });\n\t\n\t                        path.transition().duration(500).attrTween(\"d\", function(a) {\n\t                            var i = d3.interpolate(this._current, a) //,\n\t                                // k = d3.interpolate(arc.outerRadius()(), newRadius);\n\t                            this._current = i(0);\n\t                            return function(t) {\n\t                                return arc(i(t));\n\t                                // return arc.innerRadius(k(t) / 4).outerRadius(k(t))(i(t));\n\t                            };\n\t                        });\n\t                        //////////////////////////\n\t                        setTimeout(\n\t                            function() {\n\t                                var selDataType = d.data.type;\n\t                                updateBreadcrumbs([{ name: 'Home', depth: 0 }, { name: selDataType, depth: 1 }]);\n\t\n\t                                // d3.selectAll(\"g path\").remove();\n\t                                //////////\n\t                                graph = d3.select(\"#pieChart\")\n\t                                    //////////////\n\t                                var rings = graph\n\t                                    .selectAll(\".ring\")\n\t                                    .data(circleScales);\n\t\n\t\n\t                                rings\n\t                                    .enter()\n\t                                    .append(\"path\")\n\t                                    /////////\n\t                                    .style('opacity', 0)\n\t                                    /////\n\t                                    .attr(\"class\", \"ring\")\n\t                                    .attr(\"fill\", function(d) {\n\t                                        return circleColorScaleExp(selDataType)(d.domain()[0]);\n\t                                    })\n\t                                    .attr(\"d\", function(d) {\n\t                                        var arc = d3.svg.arc()\n\t                                            .innerRadius(d.range()[0])\n\t                                            .outerRadius(d.range()[1])\n\t                                            .startAngle(0)\n\t                                            .endAngle(2 * Math.PI);\n\t                                        return arc(d);\n\t                                    })\n\t                                    .attr(\"id\", function(d, i) {\n\t                                        return \"ring\" + i;\n\t                                    })\n\t\n\t\n\t                                rings.transition()\n\t                                    .delay(function(d, i) {\n\t                                        return i * 50;\n\t                                    })\n\t                                    .duration(100)\n\t                                    .style('opacity', 1);\n\t\n\t                                rings\n\t                                    .on(\"click\", function(d, i) {\n\t                                        // One ring has been selected\n\t                                        var selected = d3.select(this);\n\t                                        if (selected.classed(\"zoomed\")) {\n\t                                            selected.classed(\"zoomed\", false);\n\t\n\t                                            render.update(data, updateScales(radius), 'rings', selDataType);\n\t                                        } else {\n\t                                            selected.classed(\"zoomed\", true);\n\t\n\t                                            render.update(data, updateScales(radius, d), 'rings', selDataType);\n\t                                        }\n\t                                    });\n\t\n\t                                drawData(selDataType)\n\t\n\t                                //on background change bring points to foreground\n\t                                d3.selection.prototype.moveToFront = function() {\n\t                                    return this.each(function() {\n\t                                        this.parentNode.appendChild(this);\n\t                                    });\n\t                                };\n\t                                d3.selectAll('circle').moveToFront()\n\t                                d3.selectAll('line').moveToFront()\n\t                            }, 600);\n\t                    });\n\t\n\t                path.each(function(d) {\n\t                    svg.append(\"text\")\n\t                        .attr(\"fill\", \"#fff\")\n\t                        .style(\"margin\", \"3px\")\n\t                        .attr(\"transform\", function() {\n\t                            // debugger;\n\t                            var grades = ((d.startAngle + d.endAngle) / 2) * 180 / Math.PI;\n\t                            if (grades > 0 && grades < 180) {\n\t                                var x = (-200 + graphSize) / 2 * Math.cos(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n\t                                var y = (-200 + graphSize) / 2 * Math.sin(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n\t                                return \"translate(\" + x + \",\" + y + \") rotate(\" + (grades - 90) + \")\";\n\t                            } else {\n\t                                var x = (-25 + graphSize) / 2 * Math.cos(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n\t                                var y = (-25 + graphSize) / 2 * Math.sin(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n\t                                return \"translate(\" + x + \",\" + y + \") rotate(\" + (grades - 90 + 180) + \")\";\n\t                            }\n\t                        })\n\t                        // .style(\"font-size\", \"12px\")\n\t                        .style(\"font-size\", config.fontSize)\n\t                        .attr(\"dy\", \".35em\")\n\t                        .text(function() {\n\t                            return d.data.type + \" \" + d.data.count;\n\t                        });\n\t                })\n\t\n\t                function type(d) {\n\t                    d.population = +d.population;\n\t                    return d;\n\t                }\n\t\n\t            } else if (graphicMode == 'rings') {\n\t\n\t                var rings = graph\n\t                    .selectAll(\".ring\")\n\t                    .data(circleScales);\n\t\n\t                rings\n\t                    .enter()\n\t                    .append(\"path\")\n\t                    .attr(\"class\", \"ring\")\n\t                    .attr(\"fill\", function(d) {\n\t                        return circleColorScale(d.domain()[0]);\n\t                    })\n\t                    .attr(\"d\", function(d) {\n\t                        var arc = d3.svg.arc()\n\t                            .innerRadius(d.range()[0])\n\t                            .outerRadius(d.range()[1])\n\t                            .startAngle(0)\n\t                            .endAngle(2 * Math.PI);\n\t                        return arc(d);\n\t                    })\n\t                    .attr(\"id\", function(d, i) {\n\t                        return \"ring\" + i;\n\t                    })\n\t\n\t\n\t                .on(\"click\", function(d, i) {\n\t                    // One ring has been selected\n\t                    var selected = d3.select(this);\n\t                    if (selected.classed(\"zoomed\")) {\n\t                        selected.classed(\"zoomed\", false);\n\t                        render.update(data, updateScales(radius));\n\t                    } else {\n\t                        selected.classed(\"zoomed\", true);\n\t                        render.update(data, updateScales(radius, d));\n\t                    }\n\t                });\n\t\n\t                rings\n\t                    .transition()\n\t                    .duration(transitionSpeed)\n\t                    .attr(\"d\", function(d, i) {\n\t                        var arc = d3.svg.arc()\n\t                            .innerRadius(circleScales[i].range()[0] + 0.1) // Have to add 0.1 otherwise it doesn't transition correctly\n\t                            .outerRadius(circleScales[i].range()[1] + 0.1) // Have to add 0.1 otherwise it doesn't transition correctly\n\t                            .startAngle(0)\n\t                            .endAngle(2 * Math.PI);\n\t                        return arc(d, i);\n\t                    });\n\t\n\t                var displData = [];\n\t                for (i in data)\n\t                    if (data[i].type == vizType)\n\t                        displData.push(data[i])\n\t\n\t                    // Calculate coords for each data point\n\t                var stepRad = 2 * Math.PI * 360 / displData.length; // grades\n\t                var currAngle = 0;\n\t\n\t                for (var i = 0; i < displData.length; i++) {\n\t                    var p = displData[i];\n\t                    var scale = circleScales[~~((1 - p.value) / 0.2)];\n\t                    var coords = point(scale(1 - p.value), currAngle);\n\t                    p.x = coords[0];\n\t                    p.y = coords[1];\n\t                    p.angle = currAngle;\n\t                    currAngle += (2 * Math.PI / displData.length);\n\t                }\n\t\n\t                // Links\n\t                links = graph.selectAll(\".openTargets_d-d_overview_link\")\n\t                    .data(displData, function(d) {\n\t                        return d.object + \"-\" + d.subject;\n\t                    });\n\t                links\n\t                    .enter()\n\t                    .append(\"line\")\n\t                    .style(\"stroke\", \"navy\")\n\t                    .attr(\"class\", \"openTargets_d-d_overview_link unselected\");\n\t                links\n\t                    .transition()\n\t                    .duration(transitionSpeed)\n\t                    .attr(\"x1\", function(d) {\n\t                        return d.x;\n\t                    })\n\t                    .attr(\"y1\", function(d) {\n\t                        return d.y;\n\t                    })\n\t                    .attr(\"x2\", function(d) {\n\t                        return radius * Math.cos(d.angle);\n\t                    })\n\t                    .attr(\"y2\", function(d) {\n\t                        return radius * Math.sin(d.angle);\n\t                    });\n\t\n\t                // Nodes\n\t                points = graph.selectAll(\".openTargets_d-d_overview_node\")\n\t                    .data(displData, function(d) {\n\t                        return d.object + \"-\" + d.subject;\n\t                    });\n\t                points\n\t                    .enter()\n\t                    .append(\"circle\")\n\t                    .attr(\"class\", \"openTargets_d-d_overview_node selected\")\n\t                    .on(\"mouseout\", unselect)\n\t                    .on(\"mouseover\", select)\n\t                    .on(\"click\",\n\t                        tooltip\n\t                    );\n\t                points\n\t                    .transition()\n\t                    .duration(transitionSpeed)\n\t                    .attr(\"cx\", function(d) {\n\t                        return d.x;\n\t                    })\n\t                    .attr(\"cy\", function(d) {\n\t                        return d.y;\n\t                    })\n\t                    .attr(\"r\", config.pointSize)\n\t                    .attr(\"fill\", config.pointColor);\n\t\n\t                // Labels\n\t                graph.selectAll(\".openTargets_d-d_overview_label\").remove()\n\t                labels = graph.selectAll(\".openTargets_d-d_overview_label\")\n\t                    .data(displData, function(d) {\n\t                        return d.object + \"-\" + d.subject;\n\t                    });\n\t                labels\n\t                    .enter()\n\t                    .append(\"g\")\n\t                    .attr(\"class\", \"openTargets_d-d_overview_label selected\")\n\t                    // Create SVG container, and apply a transform such that the origin is the\n\t                    // center of the canvas. This way, we don't need to position arcs individually\n\t                    .attr(\"transform\", function(d) {\n\t                        var grades = d.angle * 360 / (2 * Math.PI);\n\t                        var x = graphSize / 2 * Math.cos(d.angle);\n\t                        var y = graphSize / 2 * Math.sin(d.angle);\n\t\n\t                        return \"translate(\" + x + \",\" + y + \")\";\n\t                    })\n\t                    .append(\"text\")\n\t                    .style(\"font-size\", config.fontSize)\n\t                    // .style(\"font-size\", \"10px\")\n\t                    .style(\"text-anchor\", function(d) {\n\t                        var grades = d.angle * 360 / (2 * Math.PI);\n\t                        if (grades % 360 > 90 && grades % 360 < 275) {\n\t                            return \"end\";\n\t                        }\n\t                        return \"start\";\n\t                    })\n\t                    .text(function(d) {\n\t                        return d.object;\n\t                    })\n\t                    .attr(\"transform\", function(d) {\n\t                        var grades = d.angle * 360 / (2 * Math.PI);\n\t                        if (grades % 360 > 90 && grades % 360 < 275) {\n\t                            return \"rotate(\" + ((grades % 360) + 180) + \")\";\n\t                        }\n\t                        return \"rotate(\" + (grades % 360) + \")\";\n\t                    })\n\t                    .on(\"mouseover\", select)\n\t                    .on(\"mouseout\", unselect)\n\t                    .on(\"click\", tooltip);\n\t\n\t                // drawData(\"diseases1\")\n\t\n\t            }\n\t\n\t            function updateBreadcrumbs(nodeArray) {\n\t\n\t                function breadcrumbPoints(d, i) {\n\t                    var points = [];\n\t                    points.push(\"0,0\");\n\t                    points.push(b.w + \",0\");\n\t                    points.push(b.w + b.t + \",\" + (b.h / 2));\n\t                    points.push(b.w + \",\" + b.h);\n\t                    points.push(\"0,\" + b.h);\n\t                    if (i > 0) { // Leftmost breadcrumb; don't include 6th vertex.\n\t                        points.push(b.t + \",\" + (b.h / 2));\n\t                    }\n\t                    return points.join(\" \");\n\t                }\n\t                d3.selectAll(\"#trail\").remove()\n\t\n\t                // Add the svg area.\n\t                var trail = d3.select(\"#sequence\").append(\"svg:svg\")\n\t                    // .attr(\"width\", 1200)\n\t                    .style(\"width\", config.size)\n\t                    .style(\"height\", 30)\n\t                    .attr(\"id\", \"trail\");\n\t\n\t                // Data join; key function combines name and depth (= position in sequence).\n\t                var g = d3.select(\"#trail\")\n\t                    .selectAll(\"g\")\n\t                    .data(nodeArray, function(d) {\n\t\n\t                        return d.name + d.depth;\n\t                    });\n\t\n\t                // Add breadcrumb and label for entering nodes.\n\t                var entering = g.enter().append(\"svg:g\");\n\t\n\t                function renderInitialState() {\n\t                    rings = d3.selectAll(\"#pieChart .ring\")\n\t                    var lines = d3.selectAll(\"#pieChart line\")\n\t                        // var labels=d3.selectAll(\"#pieChart text\")\n\t                    d3.selectAll(\"#pieChart text\").style('opacity', 0);\n\t                    var circles = d3.selectAll(\"#pieChart circle\")\n\t\n\t                    rings.transition()\n\t                        .duration(200)\n\t                        .style('opacity', 0);\n\t\n\t                    d3.selectAll(\"#pieChart line\").remove();\n\t                    // d3.selectAll(\"#pieChart text\").remove();\n\t                    d3.selectAll(\"#pieChart .openTargets_d-d_overview_label\").remove();\n\t                    d3.selectAll(\"#pieChart circle\").remove();\n\t\n\t                    d3.selectAll('#sequence g').remove()\n\t\n\t                    updateBreadcrumbs([{ name: 'Home' }]);\n\t                    setTimeout(function() {\n\t                        d3.selectAll(\"#pieChart .ring\").remove();\n\t\n\t                        path = path.data(pie(dataTypes))\n\t                            .attr(\"fill\", function(d, i) {\n\t                                return allColorsExp[(d.data.type)][0];\n\t                            });\n\t\n\t                        path.transition().duration(500).attrTween(\"d\", function(a) {\n\t                            var i = d3.interpolate(this._current, a) //,\n\t                                // k = d3.interpolate(arc.outerRadius()(), newRadius);\n\t                            this._current = i(0);\n\t                            return function(t) {\n\t                                return arc(i(t));\n\t                                // return arc.innerRadius(k(t) / 4).outerRadius(k(t))(i(t));\n\t                            };\n\t                        });\n\t                        d3.selectAll(\"#pieChart text\").transition().duration(600).style('opacity', 1);\n\t\n\t                    }, 500)\n\t\n\t                }\n\t\n\t                entering.append(\"svg:polygon\")\n\t                    .attr(\"points\", breadcrumbPoints)\n\t                    .style(\"fill\", function(d) {\n\t                        if (d.name == 'Home') {\n\t                            return '#DCDCDC';\n\t                        }\n\t                        return allColorsExp[d.name][1]\n\t                    })\n\t                    .on(\"click\", function(d, i) {\n\t                        if (this.parentNode.childNodes[1].innerHTML == \"Home\")\n\t                            renderInitialState();\n\t                    })\n\t\n\t                entering.append(\"svg:text\")\n\t                    .attr(\"x\", (b.w + b.t) / 2)\n\t                    .attr(\"y\", b.h / 2)\n\t                    .attr(\"dy\", \"0.35em\")\n\t                    .attr(\"text-anchor\", \"middle\")\n\t                    .text(function(d) {\n\t                        var name;\n\t\n\t                        if (d.name.length > 11) {\n\t                            name = d.name.substring(0, 10) + '...';\n\t                        } else {\n\t                            name = d.name;\n\t                        }\n\t                        return name;\n\t                        // return d.name;\n\t                    })\n\t                    .on(\"click\", function(d, i) {\n\t                        if (this.innerHTML == \"Home\")\n\t                            renderInitialState();\n\t                    });\n\t\n\t                // Set position for entering and updating nodes.\n\t                g.attr(\"transform\", function(d, i) {\n\t                    return \"translate(\" + i * (b.w + b.s) + \", 0)\";\n\t                });\n\t            }\n\t\n\t            function drawData(type) {\n\t                var displData = [];\n\t                for (i in data) {\n\t                    if (data[i].type == type) {\n\t                        displData.push(data[i])\n\t                    }\n\t                }\n\t\n\t                // Calculate coords for each data point\n\t                // var stepRad = 2 * Math.PI / displData.length; // grades\n\t                // var stepRad = 2 * Math.PI * 360 / displData.length; // grades\n\t                var stepRad = 3.5; // grades\n\t\n\t                var currAngle = 0;\n\t\n\t                for (var i = 0; i < displData.length; i++) {\n\t                    var p = displData[i];\n\t                    var scale = circleScales[~~((1 - p.value) / 0.2)];\n\t                    var coords = point(scale(1 - p.value), currAngle);\n\t                    p.x = coords[0];\n\t                    p.y = coords[1];\n\t                    p.angle = currAngle;\n\t                    currAngle += (2 * Math.PI / displData.length);\n\t                    // currAngle += (stepRad * 2 * Math.PI / 360);\n\t                }\n\t\n\t                // Links\n\t                links = graph.selectAll(\".openTargets_d-d_overview_link\")\n\t                    .data(displData, function(d) {\n\t                        return d.object + \"-\" + d.subject;\n\t                    });\n\t                links\n\t                    .enter()\n\t                    .append(\"line\")\n\t                    .style(\"stroke\", \"navy\")\n\t                    .attr(\"class\", \"openTargets_d-d_overview_link unselected\");\n\t                links\n\t                    .transition()\n\t                    .duration(transitionSpeed)\n\t                    .attr(\"x1\", function(d) {\n\t                        return d.x;\n\t                    })\n\t                    .attr(\"y1\", function(d) {\n\t                        return d.y;\n\t                    })\n\t                    .attr(\"x2\", function(d) {\n\t                        return radius * Math.cos(d.angle);\n\t                    })\n\t                    .attr(\"y2\", function(d) {\n\t                        return radius * Math.sin(d.angle);\n\t                    });\n\t\n\t                // Nodes\n\t                points = graph.selectAll(\".openTargets_d-d_overview_node\")\n\t                    .data(displData, function(d) {\n\t                        return d.object + \"-\" + d.subject;\n\t                    });\n\t                points\n\t                    .enter()\n\t                    .append(\"circle\")\n\t                    .attr(\"class\", \"openTargets_d-d_overview_node selected\")\n\t                    .on(\"mouseout\", unselect)\n\t                    .on(\"mouseover\", select)\n\t                    .on(\"click\", tooltip);\n\t                // .on(\"click\", function(){ tooltip(this,dataTypes)});\n\t                points\n\t                    .transition()\n\t                    .duration(transitionSpeed)\n\t                    .attr(\"cx\", function(d) {\n\t                        return d.x;\n\t                    })\n\t                    .attr(\"cy\", function(d) {\n\t                        return d.y;\n\t                    })\n\t                    .attr(\"r\", config.pointSize)\n\t                    .attr(\"fill\", config.pointColor);\n\t\n\t                // Labels\n\t                graph.selectAll(\".openTargets_d-d_overview_label\").remove()\n\t                labels = graph.selectAll(\".openTargets_d-d_overview_label\")\n\t                    .data(displData, function(d) {\n\t                        return d.object + \"-\" + d.subject;\n\t                    });\n\t                labels\n\t                    .enter()\n\t                    .append(\"g\")\n\t                    .attr(\"class\", \"openTargets_d-d_overview_label selected\")\n\t                    // Create SVG container, and apply a transform such that the origin is the\n\t                    // center of the canvas. This way, we don't need to position arcs individually\n\t                    .attr(\"transform\", function(d) {\n\t                        var grades = d.angle * 360 / (2 * Math.PI);\n\t                        var x = graphSize / 2 * Math.cos(d.angle);\n\t                        var y = graphSize / 2 * Math.sin(d.angle);\n\t\n\t                        return \"translate(\" + x + \",\" + y + \")\";\n\t                    })\n\t                    .append(\"text\")\n\t                    .style(\"font-size\", config.fontSize)\n\t                    // .style(\"font-size\", \"10px\")\n\t                    .style(\"text-anchor\", function(d) {\n\t                        var grades = d.angle * 360 / (2 * Math.PI);\n\t                        if (grades % 360 > 90 && grades % 360 < 275) {\n\t                            return \"end\";\n\t                        }\n\t                        return \"start\";\n\t                    })\n\t                    .text(function(d) {\n\t                        return d.object;\n\t                    })\n\t                    .attr(\"transform\", function(d) {\n\t                        var grades = d.angle * 360 / (2 * Math.PI);\n\t                        if (grades % 360 > 90 && grades % 360 < 275) {\n\t                            return \"rotate(\" + ((grades % 360) + 180) + \")\";\n\t                        }\n\t                        return \"rotate(\" + (grades % 360) + \")\";\n\t                    })\n\t                    .on(\"mouseover\", select)\n\t                    .on(\"mouseout\", unselect)\n\t                    .on(\"click\", tooltip);\n\t            }\n\t        };\n\t\n\t        if (typeof config.data == \"string\") {\n\t            d3.json(config.data, function(error, resp) {\n\t                var data = resp.data;\n\t                render.update(data, updateScales(radius), 'pieChart');\n\t            });\n\t        } else {\n\t\n\t            render.update(config.data, updateScales(radius), 'pieChart');\n\t        }\n\t\n\t\n\t\n\t    };\n\t\n\t    function updateScales(radius, selected) {\n\t        var circleScales = [\n\t            d3.scale.linear().domain([0.0, 0.2]).range([0, 1 * radius / 5]).clamp(true),\n\t            d3.scale.linear().domain([0.2, 0.4]).range([1 * radius / 5, 2 * radius / 5]).clamp(true),\n\t            d3.scale.linear().domain([0.4, 0.6]).range([2 * radius / 5, 3 * radius / 5]).clamp(true),\n\t            d3.scale.linear().domain([0.6, 0.8]).range([3 * radius / 5, 4 * radius / 5]).clamp(true),\n\t            d3.scale.linear().domain([0.8, 1.0]).range([4 * radius / 5, 5 * radius / 5]).clamp(true),\n\t        ];\n\t\n\t        if (!selected) {\n\t            return circleScales;\n\t        }\n\t\n\t        // We are focusing on a scale\n\t        var newScales = [];\n\t        var currRad = 0;\n\t        //if it's the selected scale put it to the length of radius else put it to 0 length\n\t        for (var i = 0; i < circleScales.length; i++) {\n\t            var scale = circleScales[i];\n\t            if (selected.domain()[0] == scale.domain()[0]) {\n\t                scale.range([currRad, radius]);\n\t                currRad = radius;\n\t            } else {\n\t                scale.range([currRad, currRad]);\n\t            }\n\t            newScales.push(scale);\n\t        }\n\t        return newScales;\n\t    }\n\t\n\t    function tooltip(d) {\n\t\n\t        var obj = {};\n\t        obj.header = d.object;\n\t        obj.rows = [];\n\t        obj.rows.push({\n\t            label: \"type\",\n\t            value: d.type\n\t        });\n\t        obj.rows.push({\n\t            label: \"Value:\",\n\t            value: String(d.value * 100).slice(0, 5)\n\t        });\n\t        tntTooltip.table()\n\t            .width(180)\n\t            .show_closer(true)\n\t            .call(this, obj);\n\t    }\n\t\n\t    // private methods\n\t    function select(d) {\n\t        var selectNode = this;\n\t        links\n\t            .each(function(l) {\n\t                var checkLink = this;\n\t                if (d.object === l.object) {\n\t                    d3.select(checkLink)\n\t                        .classed(\"unselected\", false)\n\t                        .classed(\"selected\", true);\n\t                } else {\n\t                    d3.select(checkLink)\n\t                        .classed(\"selected\", false)\n\t                        .classed(\"unselected\", true);\n\t                }\n\t            });\n\t        labels\n\t            .each(function(l) {\n\t                var checkLabel = this;\n\t                if (d.object === l.object) {\n\t                    d3.select(checkLabel)\n\t                        .classed(\"unselected\", false)\n\t                        .classed(\"selected\", true);\n\t                } else {\n\t                    d3.select(checkLabel)\n\t                        .classed(\"selected\", false)\n\t                        .classed(\"unselected\", true);\n\t                }\n\t            });\n\t        points\n\t            .each(function(p) {\n\t                var checkNode = this;\n\t                if (p.object === d.object) {\n\t                    d3.select(checkNode)\n\t                        .classed(\"unselected\", false)\n\t                        .classed(\"selected\", true);\n\t                } else {\n\t                    d3.select(checkNode)\n\t                        .classed(\"selected\", false)\n\t                        .classed(\"unselected\", true);\n\t                }\n\t            });\n\t    }\n\t\n\t    function unselect() {\n\t        links\n\t            .each(function() {\n\t                d3.select(this)\n\t                    .classed(\"selected\", false)\n\t                    .classed(\"unselected\", true);\n\t            });\n\t        labels\n\t            .each(function() {\n\t                d3.select(this)\n\t                    .classed(\"selected\", true)\n\t                    .classed(\"unselected\", false);\n\t            });\n\t        points\n\t            .each(function() {\n\t                d3.select(this)\n\t                    .classed(\"selected\", true)\n\t                    .classed(\"unselected\", false);\n\t            });\n\t    }\n\t\n\t    function point(l, r) {\n\t        var x = l * Math.cos(r);\n\t        var y = l * Math.sin(r);\n\t        return [x, y];\n\t    }\n\t\n\t    // Public methods\n\t\n\t    render.read = function(data) {\n\t        // if (typeof data == 'object') {\n\t            if (!arguments.length) {\n\t                return config.data;\n\t            }\n\t            config.data = data;\n\t            return this;\n\t        // }\n\t    }\n\t\n\t    render.size = function(size) {\n\t        if (!arguments.length) {\n\t            return config.size;\n\t        }\n\t        config.size = size;\n\t        return this;\n\t    };\n\t\n\t    render.setPieColors = function(color) {\n\t        if (!arguments.length) {\n\t            return config.allColorsExp;\n\t        }\n\t        config.allColorsExp = color;\n\t        return this;\n\t    };\n\t\n\t    render.setFontSize = function(size) {\n\t        if (!arguments.length) {\n\t            return config.fontSize;\n\t        }\n\t        if(typeof size== \"number\"){\n\t            size = String(size+'px');\n\t        }\n\t        config.fontSize=size;\n\t        return this;\n\t    };\n\t\n\t    render.setPointSize = function(size) {\n\t        if (!arguments.length) {\n\t            return config.pointSize;\n\t        }\n\t        config.pointSize = size;\n\t        return this;\n\t    };\n\t\n\t    render.setPointColor = function(color) {\n\t        if (!arguments.length) {\n\t            return config.pointColor;\n\t        }\n\t        config.pointColor = color;\n\t        return this;\n\t    };\n\t\n\t    render.filter_type = function(type) {\n\t        points\n\t            .style(\"display\", function(d) {\n\t                if (!type) {\n\t                    return \"block\";\n\t                }\n\t                if (d.type !== type) {\n\t                    return \"none\";\n\t                }\n\t                return \"block\";\n\t            });\n\t    };\n\t    return render;\n\t};\n\t\n\tmodule.exports = exports = vis;\n\n\n/***/ }\n/******/ ])});;\n\n\n// WEBPACK FOOTER //\n// biojs_testen.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1a4c4a606bb91e601193","define( [ 'plugins/biojs/testen/node_modules/visualize_piechart/src/vis' ], function(Vis) {\n    return Backbone.Model.extend({\n        initialize: function( options ) {\n            var chart    = options.chart;\n            var dataset  = options.dataset;\n            var settings = options.chart.settings;\n            console.log(Vis);\n            data= [\n\n                    {\n                        \"direction\": null,\n                        \"object\": \"disease1\",\n                        \"type\": \"diseases1\",\n                        \"value\": 0.7139138126389065,\n                        \"subject\": \"EFO_0004591\"\n                    },{\n                        \"direction\": null,\n                        \"object\": \"disease1\",\n                        \"type\": \"diseases3\",\n                        \"value\": 0.7139138126389065,\n                        \"subject\": \"EFO_0004591\"\n                    }\n                ]\n\n            var v = Vis()\n                // .size(500)//250-1000\n                // .size(2000)\n                // .size(250)\n                // .size(450)\n                // .setPointSize(5)\n                // .setPieColors([\"#ff0000\"])\n                // .setPointColor('#fff')\n                // .setPointColor('rgb(200,132,200)')\n                // .setFontSize('10px')\n                .read(\"http://partizanos.github.io/VizTargetDiseases/data/sample.json\");\n                // .read(data);\n            \n            v(document.getElementById(options.targets[ 0 ] + \"\"));\n            chart.state( 'ok', 'Chart drawn.' );\n            options.process.resolve();\n\n            // d3.select(\"#changeType\")\n            //     .on(\"change\", function () {\n            //         console.log(this.value);\n            //         v.filter_type(this.value);\n            //     })\n\n            // setTimeout(function () {\n            //     v.filter_type(\"shared-phenotype\");\n            // }, 1000);\n            //\n            // setTimeout(function () {\n            //     v.filter_type(null);\n            // }, 2000);\n\n        }\n    });\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/plugins/visualizations/charts/static/repository/visualizations/biojs/testen/wrapper.js\n// module id = 0\n// module chunks = 1","module.exports = require(\"./src/api.js\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.api/index.js\n// module id = 9\n// module chunks = 1","var api = function (who) {\n\n    var _methods = function () {\n\tvar m = [];\n\n\tm.add_batch = function (obj) {\n\t    m.unshift(obj);\n\t};\n\n\tm.update = function (method, value) {\n\t    for (var i=0; i<m.length; i++) {\n\t\tfor (var p in m[i]) {\n\t\t    if (p === method) {\n\t\t\tm[i][p] = value;\n\t\t\treturn true;\n\t\t    }\n\t\t}\n\t    }\n\t    return false;\n\t};\n\n\tm.add = function (method, value) {\n\t    if (m.update (method, value) ) {\n\t    } else {\n\t\tvar reg = {};\n\t\treg[method] = value;\n\t\tm.add_batch (reg);\n\t    }\n\t};\n\n\tm.get = function (method) {\n\t    for (var i=0; i<m.length; i++) {\n\t\tfor (var p in m[i]) {\n\t\t    if (p === method) {\n\t\t\treturn m[i][p];\n\t\t    }\n\t\t}\n\t    }\n\t};\n\n\treturn m;\n    };\n\n    var methods    = _methods();\n    var api = function () {};\n\n    api.check = function (method, check, msg) {\n\tif (method instanceof Array) {\n\t    for (var i=0; i<method.length; i++) {\n\t\tapi.check(method[i], check, msg);\n\t    }\n\t    return;\n\t}\n\n\tif (typeof (method) === 'function') {\n\t    method.check(check, msg);\n\t} else {\n\t    who[method].check(check, msg);\n\t}\n\treturn api;\n    };\n\n    api.transform = function (method, cbak) {\n\tif (method instanceof Array) {\n\t    for (var i=0; i<method.length; i++) {\n\t\tapi.transform (method[i], cbak);\n\t    }\n\t    return;\n\t}\n\n\tif (typeof (method) === 'function') {\n\t    method.transform (cbak);\n\t} else {\n\t    who[method].transform(cbak);\n\t}\n\treturn api;\n    };\n\n    var attach_method = function (method, opts) {\n\tvar checks = [];\n\tvar transforms = [];\n\n\tvar getter = opts.on_getter || function () {\n\t    return methods.get(method);\n\t};\n\n\tvar setter = opts.on_setter || function (x) {\n\t    for (var i=0; i<transforms.length; i++) {\n\t\tx = transforms[i](x);\n\t    }\n\n\t    for (var j=0; j<checks.length; j++) {\n\t\tif (!checks[j].check(x)) {\n\t\t    var msg = checks[j].msg || \n\t\t\t(\"Value \" + x + \" doesn't seem to be valid for this method\");\n\t\t    throw (msg);\n\t\t}\n\t    }\n\t    methods.add(method, x);\n\t};\n\n\tvar new_method = function (new_val) {\n\t    if (!arguments.length) {\n\t\treturn getter();\n\t    }\n\t    setter(new_val);\n\t    return who; // Return this?\n\t};\n\tnew_method.check = function (cbak, msg) {\n\t    if (!arguments.length) {\n\t\treturn checks;\n\t    }\n\t    checks.push ({check : cbak,\n\t\t\t  msg   : msg});\n\t    return this;\n\t};\n\tnew_method.transform = function (cbak) {\n\t    if (!arguments.length) {\n\t\treturn transforms;\n\t    }\n\t    transforms.push(cbak);\n\t    return this;\n\t};\n\n\twho[method] = new_method;\n    };\n\n    var getset = function (param, opts) {\n\tif (typeof (param) === 'object') {\n\t    methods.add_batch (param);\n\t    for (var p in param) {\n\t\tattach_method (p, opts);\n\t    }\n\t} else {\n\t    methods.add (param, opts.default_value);\n\t    attach_method (param, opts);\n\t}\n    };\n\n    api.getset = function (param, def) {\n\tgetset(param, {default_value : def});\n\n\treturn api;\n    };\n\n    api.get = function (param, def) {\n\tvar on_setter = function () {\n\t    throw (\"Method defined only as a getter (you are trying to use it as a setter\");\n\t};\n\n\tgetset(param, {default_value : def,\n\t\t       on_setter : on_setter}\n\t      );\n\n\treturn api;\n    };\n\n    api.set = function (param, def) {\n\tvar on_getter = function () {\n\t    throw (\"Method defined only as a setter (you are trying to use it as a getter\");\n\t};\n\n\tgetset(param, {default_value : def,\n\t\t       on_getter : on_getter}\n\t      );\n\n\treturn api;\n    };\n\n    api.method = function (name, cbak) {\n\tif (typeof (name) === 'object') {\n\t    for (var p in name) {\n\t\twho[p] = name[p];\n\t    }\n\t} else {\n\t    who[name] = cbak;\n\t}\n\treturn api;\n    };\n\n    return api;\n    \n};\n\nmodule.exports = exports = api;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.api/src/api.js\n// module id = 10\n// module chunks = 1","module.exports = tooltip = require(\"./src/tooltip.js\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.tooltip/index.js\n// module id = 11\n// module chunks = 1","var apijs = require(\"tnt.api\");\n\nvar tooltip = function () {\n    \"use strict\";\n\n    var drag = d3.behavior.drag();\n    var tooltip_div;\n\n    var conf = {\n        position : \"right\",\n        allow_drag : true,\n        show_closer : true,\n        fill : function () { throw \"fill is not defined in the base object\"; },\n        width : 180,\n        id : 1\n    };\n\n    var t = function (data, event) {\n        drag\n            .origin(function(){\n                return {\n                    x : parseInt(d3.select(this).style(\"left\")),\n                    y : parseInt(d3.select(this).style(\"top\"))\n                };\n            })\n            .on(\"drag\", function() {\n                if (conf.allow_drag) {\n                    d3.select(this)\n                        .style(\"left\", d3.event.x + \"px\")\n                        .style(\"top\", d3.event.y + \"px\");\n                }\n            });\n\n        // TODO: Why do we need the div element?\n        // It looks like if we anchor the tooltip in the \"body\"\n        // The tooltip is not located in the right place (appears at the bottom)\n        // See clients/tooltips_test.html for an example\n        var containerElem = selectAncestor (this, \"div\");\n        if (containerElem === undefined) {\n            // We require a div element at some point to anchor the tooltip\n            return;\n        }\n\n        tooltip_div = d3.select(containerElem)\n            .append(\"div\")\n            .attr(\"class\", \"tnt_tooltip\")\n            .classed(\"tnt_tooltip_active\", true)  // TODO: Is this needed/used???\n            .call(drag);\n\n        // prev tooltips with the same header\n        d3.select(\"#tnt_tooltip_\" + conf.id).remove();\n\n        if ((d3.event === null) && (event)) {\n            d3.event = event;\n        }\n        var d3mouse = d3.mouse(containerElem);\n        d3.event = null;\n\n        var xoffset = 0;\n        if (conf.position === \"left\") {\n            xoffset = conf.width;\n        }\n\n        tooltip_div.attr(\"id\", \"tnt_tooltip_\" + conf.id);\n\n        // We place the tooltip\n        tooltip_div\n            .style(\"left\", (d3mouse[0] - xoffset) + \"px\")\n            .style(\"top\", (d3mouse[1]) + \"px\");\n\n        // Close\n        if (conf.show_closer) {\n            tooltip_div\n                .append(\"div\")\n                .attr(\"class\", \"tnt_tooltip_closer\")\n                .on (\"click\", function () {\n                    t.close();\n                });\n        }\n\n        conf.fill.call(tooltip_div.node(), data);\n\n        // return this here?\n        return t;\n    };\n\n    // gets the first ancestor of elem having tagname \"type\"\n    // example : var mydiv = selectAncestor(myelem, \"div\");\n    function selectAncestor (elem, type) {\n        type = type.toLowerCase();\n        if (elem.parentNode === null) {\n            console.log(\"No more parents\");\n            return undefined;\n        }\n        var tagName = elem.parentNode.tagName;\n\n        if ((tagName !== undefined) && (tagName.toLowerCase() === type)) {\n            return elem.parentNode;\n        } else {\n            return selectAncestor (elem.parentNode, type);\n        }\n    }\n\n    var api = apijs(t)\n        .getset(conf);\n\n    api.check('position', function (val) {\n        return (val === 'left') || (val === 'right');\n    }, \"Only 'left' or 'right' values are allowed for position\");\n\n    api.method('close', function () {\n        if (tooltip_div) {\n            tooltip_div.remove();\n        }\n    });\n\n    return t;\n};\n\ntooltip.list = function () {\n    // list tooltip is based on general tooltips\n    var t = tooltip();\n    var width = 180;\n\n    t.fill (function (obj) {\n        var tooltip_div = d3.select(this);\n        var obj_info_list = tooltip_div\n            .append(\"table\")\n            .attr(\"class\", \"tnt_zmenu\")\n            .attr(\"border\", \"solid\")\n            .style(\"width\", t.width() + \"px\");\n\n        // Tooltip header\n        if (obj.header) {\n            obj_info_list\n                .append(\"tr\")\n                .attr(\"class\", \"tnt_zmenu_header\")\n                .append(\"th\")\n                .text(obj.header);\n        }\n\n        // Tooltip rows\n        var table_rows = obj_info_list.selectAll(\".tnt_zmenu_row\")\n            .data(obj.rows)\n            .enter()\n            .append(\"tr\")\n            .attr(\"class\", \"tnt_zmenu_row\");\n\n        table_rows\n            .append(\"td\")\n            .style(\"text-align\", \"center\")\n            .html(function(d,i) {\n                return obj.rows[i].value;\n            })\n            .each(function (d) {\n                if (d.link === undefined) {\n                    return;\n                }\n                d3.select(this)\n                    .classed(\"link\", 1)\n                    .on('click', function (d) {\n                        d.link(d.obj);\n                        t.close.call(this);\n                    });\n            });\n    });\n    return t;\n};\n\ntooltip.table = function () {\n    // table tooltips are based on general tooltips\n    var t = tooltip();\n\n    var width = 180;\n\n    t.fill (function (obj) {\n        var tooltip_div = d3.select(this);\n\n        var obj_info_table = tooltip_div\n            .append(\"table\")\n            .attr(\"class\", \"tnt_zmenu\")\n            .attr(\"border\", \"solid\")\n            .style(\"width\", t.width() + \"px\");\n\n        // Tooltip header\n        if (obj.header) {\n            obj_info_table\n                .append(\"tr\")\n                .attr(\"class\", \"tnt_zmenu_header\")\n                .append(\"th\")\n                .attr(\"colspan\", 2)\n                .text(obj.header);\n        }\n\n        // Tooltip rows\n        var table_rows = obj_info_table.selectAll(\".tnt_zmenu_row\")\n            .data(obj.rows)\n            .enter()\n            .append(\"tr\")\n            .attr(\"class\", \"tnt_zmenu_row\");\n\n        table_rows\n            .append(\"th\")\n            .attr(\"colspan\", function (d, i) {\n                if (d.value === \"\") {\n                    return 2;\n                }\n                return 1;\n            })\n            .attr(\"class\", function (d) {\n                if (d.value === \"\") {\n                    return \"tnt_zmenu_inner_header\";\n                }\n                return \"tnt_zmenu_cell\";\n            })\n            .html(function(d,i) {\n                return obj.rows[i].label;\n            });\n\n        table_rows\n            .append(\"td\")\n            .html(function(d,i) {\n                if (typeof obj.rows[i].value === 'function') {\n                    obj.rows[i].value.call(this, d);\n                } else {\n                    return obj.rows[i].value;\n                }\n            })\n            .each(function (d) {\n                if (d.value === \"\") {\n                    d3.select(this).remove();\n                }\n            })\n            .each(function (d) {\n                if (d.link === undefined) {\n                    return;\n                }\n                d3.select(this)\n                .classed(\"link\", 1)\n                .on('click', function (d) {\n                    d.link(d.obj);\n                    t.close.call(this);\n                });\n            });\n    });\n\n    return t;\n};\n\ntooltip.plain = function () {\n    // plain tooltips are based on general tooltips\n    var t = tooltip();\n\n    t.fill (function (obj) {\n        var tooltip_div = d3.select(this);\n\n        var obj_info_table = tooltip_div\n            .append(\"table\")\n            .attr(\"class\", \"tnt_zmenu\")\n            .attr(\"border\", \"solid\")\n            .style(\"width\", t.width() + \"px\");\n\n        if (obj.header) {\n            obj_info_table\n                .append(\"tr\")\n                .attr(\"class\", \"tnt_zmenu_header\")\n                .append(\"th\")\n                .text(obj.header);\n        }\n\n        if (obj.body) {\n            obj_info_table\n                .append(\"tr\")\n                .attr(\"class\", \"tnt_zmenu_row\")\n                .append(\"td\")\n                .style(\"text-align\", \"center\")\n                .html(obj.body);\n        }\n    });\n\n    return t;\n};\n\nmodule.exports = exports = tooltip;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/tnt.tooltip/src/tooltip.js\n// module id = 12\n// module chunks = 1","// var cttvApi = require('cttv.api');\nvar tntTooltip = require('tnt.tooltip');\n// var d3 = require('d3');\n// var flowerView = require(\"cttv.flowerView\");\n//add necessary css from js so that the user doesn have to explicitely include it\n//if he includes it css is not imported \nvar cssId = 'myCss'; \nif (!document.getElementById(cssId))\n{\n    var head  = document.getElementsByTagName('head')[0];\n    var link  = document.createElement('link');\n    link.id   = cssId;\n    link.rel  = 'stylesheet';\n    link.type = 'text/css';\n    link.href = \"../build/viz_diseases.css\";\n    link.media = 'all';\n    head.appendChild(link);\n}\n\n\n\nvar vis = function() {\n    \"use strict\";\n    var config = {\n        allColorsExp:[],\n        // allColorsExp:[],\n        fontSize:\"10px\",\n        pointSize:3.5,\n        pointColor:\"navy\",\n        size: 700,\n        filter: null,\n        data: [\n\n            {\n                \"direction\": null,\n                \"object\": \"disease1\",\n                \"type\": \"diseases1\",\n                \"value\": 0.7139138126389065,\n                \"subject\": \"EFO_0004591\"\n            }, {\n                \"direction\": null,\n                \"object\": \"disease1\",\n                \"type\": \"diseases2\",\n                \"value\": 0.7139138126389065,\n                \"subject\": \"EFO_0004591\"\n            }, {\n                \"direction\": null,\n                \"object\": \"disease1\",\n                \"type\": \"diseases3\",\n                \"value\": 0.7139138126389065,\n                \"subject\": \"EFO_0004591\"\n            }\n        ]\n    };\n    var graph;\n\n    var labelSize = 100;\n    var transitionSpeed = 1000;\n    var points, labels, links;\n    // var api = cttvApi()\n    //     .prefix(\"http://test.targetvalidation.org:8899/api/\")\n    //     .appname(\"cttv-web-app\")\n    //     .secret(\"2J23T20O31UyepRj7754pEA2osMOYfFK\");\n    var dataTypes;\n    var render = function(div) {\n        var graphSize = config.size - (labelSize * 2);\n        var radius = graphSize / 2;\n\n\n        d3.select(div)\n            .append(\"div\")\n            .attr(\"id\", \"sequence\")\n            .attr(\"width\", config.size)\n            .attr(\"height\", 30)\n\n        var svg = d3.select(div)\n            .append(\"svg\")\n            .attr(\"width\", config.size)\n            .attr(\"height\", config.size)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (radius + labelSize) + \",\" + (radius + labelSize) + \")\")\n            .attr(\"id\", \"pieChart\")\n\n        var circleColorScale = d3.scale.linear()\n            .domain([0, 1])\n            .range([d3.rgb(0, 82, 163), d3.rgb(182, 221, 252)]);\n\n        // d3.json(\"../data/sample.json\", function(error, resp) {\n        //     var data = resp.data;\n        //     render.update(data, updateScales(radius), 'pieChart');\n        // });\n        // d3.json(\"../data/sample.json\", function(error, resp) {\n        //     var data = resp.data;\n        // });\n\n        var b = {\n            w: 100,\n            h: 30,\n            s: 3,\n            t: 10\n        };\n\n        render.update = function(data, circleScales, graphicMode, vizType) {\n\n            if (graphicMode == 'pieChart') {\n                d3.selectAll(\"#sequence svg\").remove();\n                d3.selectAll(\"g text\").remove();\n                d3.selectAll(\"line\").remove();\n                d3.selectAll(\"circle\").remove();\n                updateBreadcrumbs([{ name: 'Home' }]);\n\n                function createComparator(property) {\n                    return function(a, b) {\n                        if (a[property] > b[property]) return 1\n                        if (a[property] < b[property]) return -1\n                        return 0\n                    };\n                }\n\n                data.sort(createComparator('type'))\n\n                var types = {}\n                for (var i = 0; i < data.length; i++) {\n                    if (types[data[i].type] == undefined)\n                        types[data[i].type] = []\n                    types[data[i].type].push(data[i])\n                }\n                // portion of circle per data type\n                dataTypes = [];\n                for (i in types) {\n                    dataTypes.push({\n                        \"type\": i,\n                        \"population\": types[i].length / data.length,\n                        \"count\": types[i].length\n                    })\n                }\n                dataTypes.sort(function compare(a, b) {\n                    if (a.population > b.population) return -1;\n                    if (a.population < b.population) return 1;\n                    return 0;\n                })\n\n                //Create colors mapping to data Types\n                var colorsExpr = [];\n                for (i = 0; i < 10; i++) {\n                    colorsExpr.push([d3.scale.category20().range()[i * 2], d3.scale.category20().range()[i * 2 + 1]])\n                }\n\n\n                function shadeColor2(color, percent) {   \n                    var f=parseInt(color.slice(1),16),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=f>>16,G=f>>8&0x00FF,B=f&0x0000FF;\n                    return \"#\"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);\n                }\n                // config.allColorsExp;\n                var allColorsExp = {};\n                if(config.allColorsExp.length!=0){\n                    for(i=0; i<config.allColorsExp.length; i++){\n                        allColorsExp[dataTypes[i].type] = [\n                        config.allColorsExp[i],\n                        shadeColor2(config.allColorsExp[i], 0.8)\n                        // d3.scale.category20().range()[i % 10 * 2 + 1],\n                        // d3.scale.category20().range()[i % 10 * 2]\n                    ]\n                    }\n                }\n                for (i = config.allColorsExp.length; i < dataTypes.length; i++) {\n                    allColorsExp[dataTypes[i].type] = [\n                        d3.scale.category20().range()[i % 10 * 2],\n                        d3.scale.category20().range()[i % 10 * 2 + 1]\n                        // d3.scale.category20().range()[i % 10 * 2 + 1],\n                        // d3.scale.category20().range()[i % 10 * 2]\n                    ]\n                }\n\n                function circleColorScaleExp(type) {\n                    return d3.scale.linear()\n                        .domain([0, 1])\n                        .range(allColorsExp[type]);\n                }\n\n                function giveArcColor(type) {\n                    return d3.scale.linear()\n                        .domain([0, 105])\n                        .range([allColorsExp[type][0], allColorsExp[type][1]])\n                }\n                //create arcs equivalent of rings\n                var arcs = [];\n                for (var i = 0; i < 1; i++) {\n                    var arc = d3.svg.arc()\n                        .outerRadius(radius - (i * radius))\n                        .innerRadius(radius - (i * radius) - radius);\n\n                    arcs.push(arc);\n                }\n\n                var labelArc = d3.svg.arc()\n                    .outerRadius(radius - 40)\n                    .innerRadius(radius - 40);\n\n                var pie = d3.layout.pie()\n                    .sort(null)\n                    .value(function(d) {\n                        return d.population;\n                    });\n\n                var arc = d3.svg.arc()\n                    .outerRadius(radius)\n                    .innerRadius(0)\n\n                var path = svg\n                    .selectAll(\"path\")\n                    .data(pie(dataTypes))\n                    .enter().append(\"path\")\n                    //Give color based on datatype\n                    .attr(\"fill\", function(d, i) {\n                        return allColorsExp[d.data.type][0];\n                    })\n                    .attr(\"d\", arc)\n                    .each(function(d) { this._current = d; }) // store the initial values\n                    .on(\"click\", function(d) {\n                        d3.selectAll(\"#pieChart text\").style('opacity', 0);\n\n                        var tempDataTypes = JSON.parse(JSON.stringify(dataTypes));\n                        for (var i in tempDataTypes) {\n                            if (tempDataTypes[i].type == d.data.type)\n                                tempDataTypes[i].population = 1;\n                            else {\n                                tempDataTypes[i].population = 0;\n                            }\n                        }\n\n                        path = path.data(pie(tempDataTypes))\n                            .attr(\"fill\", function(d, i) {\n                                return allColorsExp[(d.data.type)][0];\n                            });\n\n                        path.transition().duration(500).attrTween(\"d\", function(a) {\n                            var i = d3.interpolate(this._current, a) //,\n                                // k = d3.interpolate(arc.outerRadius()(), newRadius);\n                            this._current = i(0);\n                            return function(t) {\n                                return arc(i(t));\n                                // return arc.innerRadius(k(t) / 4).outerRadius(k(t))(i(t));\n                            };\n                        });\n                        //////////////////////////\n                        setTimeout(\n                            function() {\n                                var selDataType = d.data.type;\n                                updateBreadcrumbs([{ name: 'Home', depth: 0 }, { name: selDataType, depth: 1 }]);\n\n                                // d3.selectAll(\"g path\").remove();\n                                //////////\n                                graph = d3.select(\"#pieChart\")\n                                    //////////////\n                                var rings = graph\n                                    .selectAll(\".ring\")\n                                    .data(circleScales);\n\n\n                                rings\n                                    .enter()\n                                    .append(\"path\")\n                                    /////////\n                                    .style('opacity', 0)\n                                    /////\n                                    .attr(\"class\", \"ring\")\n                                    .attr(\"fill\", function(d) {\n                                        return circleColorScaleExp(selDataType)(d.domain()[0]);\n                                    })\n                                    .attr(\"d\", function(d) {\n                                        var arc = d3.svg.arc()\n                                            .innerRadius(d.range()[0])\n                                            .outerRadius(d.range()[1])\n                                            .startAngle(0)\n                                            .endAngle(2 * Math.PI);\n                                        return arc(d);\n                                    })\n                                    .attr(\"id\", function(d, i) {\n                                        return \"ring\" + i;\n                                    })\n\n\n                                rings.transition()\n                                    .delay(function(d, i) {\n                                        return i * 50;\n                                    })\n                                    .duration(100)\n                                    .style('opacity', 1);\n\n                                rings\n                                    .on(\"click\", function(d, i) {\n                                        // One ring has been selected\n                                        var selected = d3.select(this);\n                                        if (selected.classed(\"zoomed\")) {\n                                            selected.classed(\"zoomed\", false);\n\n                                            render.update(data, updateScales(radius), 'rings', selDataType);\n                                        } else {\n                                            selected.classed(\"zoomed\", true);\n\n                                            render.update(data, updateScales(radius, d), 'rings', selDataType);\n                                        }\n                                    });\n\n                                drawData(selDataType)\n\n                                //on background change bring points to foreground\n                                d3.selection.prototype.moveToFront = function() {\n                                    return this.each(function() {\n                                        this.parentNode.appendChild(this);\n                                    });\n                                };\n                                d3.selectAll('circle').moveToFront()\n                                d3.selectAll('line').moveToFront()\n                            }, 600);\n                    });\n\n                path.each(function(d) {\n                    svg.append(\"text\")\n                        .attr(\"fill\", \"#fff\")\n                        .style(\"margin\", \"3px\")\n                        .attr(\"transform\", function() {\n                            // debugger;\n                            var grades = ((d.startAngle + d.endAngle) / 2) * 180 / Math.PI;\n                            if (grades > 0 && grades < 180) {\n                                var x = (-200 + graphSize) / 2 * Math.cos(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n                                var y = (-200 + graphSize) / 2 * Math.sin(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n                                return \"translate(\" + x + \",\" + y + \") rotate(\" + (grades - 90) + \")\";\n                            } else {\n                                var x = (-25 + graphSize) / 2 * Math.cos(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n                                var y = (-25 + graphSize) / 2 * Math.sin(((d.startAngle + d.endAngle) / 2) - Math.PI / 2);\n                                return \"translate(\" + x + \",\" + y + \") rotate(\" + (grades - 90 + 180) + \")\";\n                            }\n                        })\n                        // .style(\"font-size\", \"12px\")\n                        .style(\"font-size\", config.fontSize)\n                        .attr(\"dy\", \".35em\")\n                        .text(function() {\n                            return d.data.type + \" \" + d.data.count;\n                        });\n                })\n\n                function type(d) {\n                    d.population = +d.population;\n                    return d;\n                }\n\n            } else if (graphicMode == 'rings') {\n\n                var rings = graph\n                    .selectAll(\".ring\")\n                    .data(circleScales);\n\n                rings\n                    .enter()\n                    .append(\"path\")\n                    .attr(\"class\", \"ring\")\n                    .attr(\"fill\", function(d) {\n                        return circleColorScale(d.domain()[0]);\n                    })\n                    .attr(\"d\", function(d) {\n                        var arc = d3.svg.arc()\n                            .innerRadius(d.range()[0])\n                            .outerRadius(d.range()[1])\n                            .startAngle(0)\n                            .endAngle(2 * Math.PI);\n                        return arc(d);\n                    })\n                    .attr(\"id\", function(d, i) {\n                        return \"ring\" + i;\n                    })\n\n\n                .on(\"click\", function(d, i) {\n                    // One ring has been selected\n                    var selected = d3.select(this);\n                    if (selected.classed(\"zoomed\")) {\n                        selected.classed(\"zoomed\", false);\n                        render.update(data, updateScales(radius));\n                    } else {\n                        selected.classed(\"zoomed\", true);\n                        render.update(data, updateScales(radius, d));\n                    }\n                });\n\n                rings\n                    .transition()\n                    .duration(transitionSpeed)\n                    .attr(\"d\", function(d, i) {\n                        var arc = d3.svg.arc()\n                            .innerRadius(circleScales[i].range()[0] + 0.1) // Have to add 0.1 otherwise it doesn't transition correctly\n                            .outerRadius(circleScales[i].range()[1] + 0.1) // Have to add 0.1 otherwise it doesn't transition correctly\n                            .startAngle(0)\n                            .endAngle(2 * Math.PI);\n                        return arc(d, i);\n                    });\n\n                var displData = [];\n                for (i in data)\n                    if (data[i].type == vizType)\n                        displData.push(data[i])\n\n                    // Calculate coords for each data point\n                var stepRad = 2 * Math.PI * 360 / displData.length; // grades\n                var currAngle = 0;\n\n                for (var i = 0; i < displData.length; i++) {\n                    var p = displData[i];\n                    var scale = circleScales[~~((1 - p.value) / 0.2)];\n                    var coords = point(scale(1 - p.value), currAngle);\n                    p.x = coords[0];\n                    p.y = coords[1];\n                    p.angle = currAngle;\n                    currAngle += (2 * Math.PI / displData.length);\n                }\n\n                // Links\n                links = graph.selectAll(\".openTargets_d-d_overview_link\")\n                    .data(displData, function(d) {\n                        return d.object + \"-\" + d.subject;\n                    });\n                links\n                    .enter()\n                    .append(\"line\")\n                    .style(\"stroke\", \"navy\")\n                    .attr(\"class\", \"openTargets_d-d_overview_link unselected\");\n                links\n                    .transition()\n                    .duration(transitionSpeed)\n                    .attr(\"x1\", function(d) {\n                        return d.x;\n                    })\n                    .attr(\"y1\", function(d) {\n                        return d.y;\n                    })\n                    .attr(\"x2\", function(d) {\n                        return radius * Math.cos(d.angle);\n                    })\n                    .attr(\"y2\", function(d) {\n                        return radius * Math.sin(d.angle);\n                    });\n\n                // Nodes\n                points = graph.selectAll(\".openTargets_d-d_overview_node\")\n                    .data(displData, function(d) {\n                        return d.object + \"-\" + d.subject;\n                    });\n                points\n                    .enter()\n                    .append(\"circle\")\n                    .attr(\"class\", \"openTargets_d-d_overview_node selected\")\n                    .on(\"mouseout\", unselect)\n                    .on(\"mouseover\", select)\n                    .on(\"click\",\n                        tooltip\n                    );\n                points\n                    .transition()\n                    .duration(transitionSpeed)\n                    .attr(\"cx\", function(d) {\n                        return d.x;\n                    })\n                    .attr(\"cy\", function(d) {\n                        return d.y;\n                    })\n                    .attr(\"r\", config.pointSize)\n                    .attr(\"fill\", config.pointColor);\n\n                // Labels\n                graph.selectAll(\".openTargets_d-d_overview_label\").remove()\n                labels = graph.selectAll(\".openTargets_d-d_overview_label\")\n                    .data(displData, function(d) {\n                        return d.object + \"-\" + d.subject;\n                    });\n                labels\n                    .enter()\n                    .append(\"g\")\n                    .attr(\"class\", \"openTargets_d-d_overview_label selected\")\n                    // Create SVG container, and apply a transform such that the origin is the\n                    // center of the canvas. This way, we don't need to position arcs individually\n                    .attr(\"transform\", function(d) {\n                        var grades = d.angle * 360 / (2 * Math.PI);\n                        var x = graphSize / 2 * Math.cos(d.angle);\n                        var y = graphSize / 2 * Math.sin(d.angle);\n\n                        return \"translate(\" + x + \",\" + y + \")\";\n                    })\n                    .append(\"text\")\n                    .style(\"font-size\", config.fontSize)\n                    // .style(\"font-size\", \"10px\")\n                    .style(\"text-anchor\", function(d) {\n                        var grades = d.angle * 360 / (2 * Math.PI);\n                        if (grades % 360 > 90 && grades % 360 < 275) {\n                            return \"end\";\n                        }\n                        return \"start\";\n                    })\n                    .text(function(d) {\n                        return d.object;\n                    })\n                    .attr(\"transform\", function(d) {\n                        var grades = d.angle * 360 / (2 * Math.PI);\n                        if (grades % 360 > 90 && grades % 360 < 275) {\n                            return \"rotate(\" + ((grades % 360) + 180) + \")\";\n                        }\n                        return \"rotate(\" + (grades % 360) + \")\";\n                    })\n                    .on(\"mouseover\", select)\n                    .on(\"mouseout\", unselect)\n                    .on(\"click\", tooltip);\n\n                // drawData(\"diseases1\")\n\n            }\n\n            function updateBreadcrumbs(nodeArray) {\n\n                function breadcrumbPoints(d, i) {\n                    var points = [];\n                    points.push(\"0,0\");\n                    points.push(b.w + \",0\");\n                    points.push(b.w + b.t + \",\" + (b.h / 2));\n                    points.push(b.w + \",\" + b.h);\n                    points.push(\"0,\" + b.h);\n                    if (i > 0) { // Leftmost breadcrumb; don't include 6th vertex.\n                        points.push(b.t + \",\" + (b.h / 2));\n                    }\n                    return points.join(\" \");\n                }\n                d3.selectAll(\"#trail\").remove()\n\n                // Add the svg area.\n                var trail = d3.select(\"#sequence\").append(\"svg:svg\")\n                    // .attr(\"width\", 1200)\n                    .style(\"width\", config.size)\n                    .style(\"height\", 30)\n                    .attr(\"id\", \"trail\");\n\n                // Data join; key function combines name and depth (= position in sequence).\n                var g = d3.select(\"#trail\")\n                    .selectAll(\"g\")\n                    .data(nodeArray, function(d) {\n\n                        return d.name + d.depth;\n                    });\n\n                // Add breadcrumb and label for entering nodes.\n                var entering = g.enter().append(\"svg:g\");\n\n                function renderInitialState() {\n                    rings = d3.selectAll(\"#pieChart .ring\")\n                    var lines = d3.selectAll(\"#pieChart line\")\n                        // var labels=d3.selectAll(\"#pieChart text\")\n                    d3.selectAll(\"#pieChart text\").style('opacity', 0);\n                    var circles = d3.selectAll(\"#pieChart circle\")\n\n                    rings.transition()\n                        .duration(200)\n                        .style('opacity', 0);\n\n                    d3.selectAll(\"#pieChart line\").remove();\n                    // d3.selectAll(\"#pieChart text\").remove();\n                    d3.selectAll(\"#pieChart .openTargets_d-d_overview_label\").remove();\n                    d3.selectAll(\"#pieChart circle\").remove();\n\n                    d3.selectAll('#sequence g').remove()\n\n                    updateBreadcrumbs([{ name: 'Home' }]);\n                    setTimeout(function() {\n                        d3.selectAll(\"#pieChart .ring\").remove();\n\n                        path = path.data(pie(dataTypes))\n                            .attr(\"fill\", function(d, i) {\n                                return allColorsExp[(d.data.type)][0];\n                            });\n\n                        path.transition().duration(500).attrTween(\"d\", function(a) {\n                            var i = d3.interpolate(this._current, a) //,\n                                // k = d3.interpolate(arc.outerRadius()(), newRadius);\n                            this._current = i(0);\n                            return function(t) {\n                                return arc(i(t));\n                                // return arc.innerRadius(k(t) / 4).outerRadius(k(t))(i(t));\n                            };\n                        });\n                        d3.selectAll(\"#pieChart text\").transition().duration(600).style('opacity', 1);\n\n                    }, 500)\n\n                }\n\n                entering.append(\"svg:polygon\")\n                    .attr(\"points\", breadcrumbPoints)\n                    .style(\"fill\", function(d) {\n                        if (d.name == 'Home') {\n                            return '#DCDCDC';\n                        }\n                        return allColorsExp[d.name][1]\n                    })\n                    .on(\"click\", function(d, i) {\n                        if (this.parentNode.childNodes[1].innerHTML == \"Home\")\n                            renderInitialState();\n                    })\n\n                entering.append(\"svg:text\")\n                    .attr(\"x\", (b.w + b.t) / 2)\n                    .attr(\"y\", b.h / 2)\n                    .attr(\"dy\", \"0.35em\")\n                    .attr(\"text-anchor\", \"middle\")\n                    .text(function(d) {\n                        var name;\n\n                        if (d.name.length > 11) {\n                            name = d.name.substring(0, 10) + '...';\n                        } else {\n                            name = d.name;\n                        }\n                        return name;\n                        // return d.name;\n                    })\n                    .on(\"click\", function(d, i) {\n                        if (this.innerHTML == \"Home\")\n                            renderInitialState();\n                    });\n\n                // Set position for entering and updating nodes.\n                g.attr(\"transform\", function(d, i) {\n                    return \"translate(\" + i * (b.w + b.s) + \", 0)\";\n                });\n            }\n\n            function drawData(type) {\n                var displData = [];\n                for (i in data) {\n                    if (data[i].type == type) {\n                        displData.push(data[i])\n                    }\n                }\n\n                // Calculate coords for each data point\n                // var stepRad = 2 * Math.PI / displData.length; // grades\n                // var stepRad = 2 * Math.PI * 360 / displData.length; // grades\n                var stepRad = 3.5; // grades\n\n                var currAngle = 0;\n\n                for (var i = 0; i < displData.length; i++) {\n                    var p = displData[i];\n                    var scale = circleScales[~~((1 - p.value) / 0.2)];\n                    var coords = point(scale(1 - p.value), currAngle);\n                    p.x = coords[0];\n                    p.y = coords[1];\n                    p.angle = currAngle;\n                    currAngle += (2 * Math.PI / displData.length);\n                    // currAngle += (stepRad * 2 * Math.PI / 360);\n                }\n\n                // Links\n                links = graph.selectAll(\".openTargets_d-d_overview_link\")\n                    .data(displData, function(d) {\n                        return d.object + \"-\" + d.subject;\n                    });\n                links\n                    .enter()\n                    .append(\"line\")\n                    .style(\"stroke\", \"navy\")\n                    .attr(\"class\", \"openTargets_d-d_overview_link unselected\");\n                links\n                    .transition()\n                    .duration(transitionSpeed)\n                    .attr(\"x1\", function(d) {\n                        return d.x;\n                    })\n                    .attr(\"y1\", function(d) {\n                        return d.y;\n                    })\n                    .attr(\"x2\", function(d) {\n                        return radius * Math.cos(d.angle);\n                    })\n                    .attr(\"y2\", function(d) {\n                        return radius * Math.sin(d.angle);\n                    });\n\n                // Nodes\n                points = graph.selectAll(\".openTargets_d-d_overview_node\")\n                    .data(displData, function(d) {\n                        return d.object + \"-\" + d.subject;\n                    });\n                points\n                    .enter()\n                    .append(\"circle\")\n                    .attr(\"class\", \"openTargets_d-d_overview_node selected\")\n                    .on(\"mouseout\", unselect)\n                    .on(\"mouseover\", select)\n                    .on(\"click\", tooltip);\n                // .on(\"click\", function(){ tooltip(this,dataTypes)});\n                points\n                    .transition()\n                    .duration(transitionSpeed)\n                    .attr(\"cx\", function(d) {\n                        return d.x;\n                    })\n                    .attr(\"cy\", function(d) {\n                        return d.y;\n                    })\n                    .attr(\"r\", config.pointSize)\n                    .attr(\"fill\", config.pointColor);\n\n                // Labels\n                graph.selectAll(\".openTargets_d-d_overview_label\").remove()\n                labels = graph.selectAll(\".openTargets_d-d_overview_label\")\n                    .data(displData, function(d) {\n                        return d.object + \"-\" + d.subject;\n                    });\n                labels\n                    .enter()\n                    .append(\"g\")\n                    .attr(\"class\", \"openTargets_d-d_overview_label selected\")\n                    // Create SVG container, and apply a transform such that the origin is the\n                    // center of the canvas. This way, we don't need to position arcs individually\n                    .attr(\"transform\", function(d) {\n                        var grades = d.angle * 360 / (2 * Math.PI);\n                        var x = graphSize / 2 * Math.cos(d.angle);\n                        var y = graphSize / 2 * Math.sin(d.angle);\n\n                        return \"translate(\" + x + \",\" + y + \")\";\n                    })\n                    .append(\"text\")\n                    .style(\"font-size\", config.fontSize)\n                    // .style(\"font-size\", \"10px\")\n                    .style(\"text-anchor\", function(d) {\n                        var grades = d.angle * 360 / (2 * Math.PI);\n                        if (grades % 360 > 90 && grades % 360 < 275) {\n                            return \"end\";\n                        }\n                        return \"start\";\n                    })\n                    .text(function(d) {\n                        return d.object;\n                    })\n                    .attr(\"transform\", function(d) {\n                        var grades = d.angle * 360 / (2 * Math.PI);\n                        if (grades % 360 > 90 && grades % 360 < 275) {\n                            return \"rotate(\" + ((grades % 360) + 180) + \")\";\n                        }\n                        return \"rotate(\" + (grades % 360) + \")\";\n                    })\n                    .on(\"mouseover\", select)\n                    .on(\"mouseout\", unselect)\n                    .on(\"click\", tooltip);\n            }\n        };\n\n        if (typeof config.data == \"string\") {\n            d3.json(config.data, function(error, resp) {\n                var data = resp.data;\n                render.update(data, updateScales(radius), 'pieChart');\n            });\n        } else {\n\n            render.update(config.data, updateScales(radius), 'pieChart');\n        }\n\n\n\n    };\n\n    function updateScales(radius, selected) {\n        var circleScales = [\n            d3.scale.linear().domain([0.0, 0.2]).range([0, 1 * radius / 5]).clamp(true),\n            d3.scale.linear().domain([0.2, 0.4]).range([1 * radius / 5, 2 * radius / 5]).clamp(true),\n            d3.scale.linear().domain([0.4, 0.6]).range([2 * radius / 5, 3 * radius / 5]).clamp(true),\n            d3.scale.linear().domain([0.6, 0.8]).range([3 * radius / 5, 4 * radius / 5]).clamp(true),\n            d3.scale.linear().domain([0.8, 1.0]).range([4 * radius / 5, 5 * radius / 5]).clamp(true),\n        ];\n\n        if (!selected) {\n            return circleScales;\n        }\n\n        // We are focusing on a scale\n        var newScales = [];\n        var currRad = 0;\n        //if it's the selected scale put it to the length of radius else put it to 0 length\n        for (var i = 0; i < circleScales.length; i++) {\n            var scale = circleScales[i];\n            if (selected.domain()[0] == scale.domain()[0]) {\n                scale.range([currRad, radius]);\n                currRad = radius;\n            } else {\n                scale.range([currRad, currRad]);\n            }\n            newScales.push(scale);\n        }\n        return newScales;\n    }\n\n    function tooltip(d) {\n\n        var obj = {};\n        obj.header = d.object;\n        obj.rows = [];\n        obj.rows.push({\n            label: \"type\",\n            value: d.type\n        });\n        obj.rows.push({\n            label: \"Value:\",\n            value: String(d.value * 100).slice(0, 5)\n        });\n        tntTooltip.table()\n            .width(180)\n            .show_closer(true)\n            .call(this, obj);\n    }\n\n    // private methods\n    function select(d) {\n        var selectNode = this;\n        links\n            .each(function(l) {\n                var checkLink = this;\n                if (d.object === l.object) {\n                    d3.select(checkLink)\n                        .classed(\"unselected\", false)\n                        .classed(\"selected\", true);\n                } else {\n                    d3.select(checkLink)\n                        .classed(\"selected\", false)\n                        .classed(\"unselected\", true);\n                }\n            });\n        labels\n            .each(function(l) {\n                var checkLabel = this;\n                if (d.object === l.object) {\n                    d3.select(checkLabel)\n                        .classed(\"unselected\", false)\n                        .classed(\"selected\", true);\n                } else {\n                    d3.select(checkLabel)\n                        .classed(\"selected\", false)\n                        .classed(\"unselected\", true);\n                }\n            });\n        points\n            .each(function(p) {\n                var checkNode = this;\n                if (p.object === d.object) {\n                    d3.select(checkNode)\n                        .classed(\"unselected\", false)\n                        .classed(\"selected\", true);\n                } else {\n                    d3.select(checkNode)\n                        .classed(\"selected\", false)\n                        .classed(\"unselected\", true);\n                }\n            });\n    }\n\n    function unselect() {\n        links\n            .each(function() {\n                d3.select(this)\n                    .classed(\"selected\", false)\n                    .classed(\"unselected\", true);\n            });\n        labels\n            .each(function() {\n                d3.select(this)\n                    .classed(\"selected\", true)\n                    .classed(\"unselected\", false);\n            });\n        points\n            .each(function() {\n                d3.select(this)\n                    .classed(\"selected\", true)\n                    .classed(\"unselected\", false);\n            });\n    }\n\n    function point(l, r) {\n        var x = l * Math.cos(r);\n        var y = l * Math.sin(r);\n        return [x, y];\n    }\n\n    // Public methods\n\n    render.read = function(data) {\n        // if (typeof data == 'object') {\n            if (!arguments.length) {\n                return config.data;\n            }\n            config.data = data;\n            return this;\n        // }\n    }\n\n    render.size = function(size) {\n        if (!arguments.length) {\n            return config.size;\n        }\n        config.size = size;\n        return this;\n    };\n\n    render.setPieColors = function(color) {\n        if (!arguments.length) {\n            return config.allColorsExp;\n        }\n        config.allColorsExp = color;\n        return this;\n    };\n\n    render.setFontSize = function(size) {\n        if (!arguments.length) {\n            return config.fontSize;\n        }\n        if(typeof size== \"number\"){\n            size = String(size+'px');\n        }\n        config.fontSize=size;\n        return this;\n    };\n\n    render.setPointSize = function(size) {\n        if (!arguments.length) {\n            return config.pointSize;\n        }\n        config.pointSize = size;\n        return this;\n    };\n\n    render.setPointColor = function(color) {\n        if (!arguments.length) {\n            return config.pointColor;\n        }\n        config.pointColor = color;\n        return this;\n    };\n\n    render.filter_type = function(type) {\n        points\n            .style(\"display\", function(d) {\n                if (!type) {\n                    return \"block\";\n                }\n                if (d.type !== type) {\n                    return \"none\";\n                }\n                return \"block\";\n            });\n    };\n    return render;\n};\n\nmodule.exports = exports = vis;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/plugins/visualizations/charts/static/repository/plugins/biojs/testen/~/visualize_piechart/src/vis.js\n// module id = 13\n// module chunks = 1"],"sourceRoot":""}